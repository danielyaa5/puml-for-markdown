<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:522px;height:590px;background:#FFFFFF;" version="1.1" viewBox="0 0 522 590" width="522px" zoomAndPan="magnify"><defs/><g><rect height="88.4688" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="346" x="10" y="10"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="0" x="356" y="19.2822"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="322" x="34" y="42.0615">Sampler B - Activity Diagram</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="0" x="356" y="56.5322"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="43" y="71.8857">Description of goal</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="0" x="356" y="84.4697"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="0" x="356" y="96.1104"/><ellipse cx="261" cy="109.4688" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#E4D4EF" height="117.0033" style="stroke:#181818;stroke-width:0.5;" width="344" x="89" y="139.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="103" y="162.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="103" y="162.4639">Inputs</text><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="433" y1="170.7656" y2="170.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="103" y="186.9043"/><ellipse cx="104.5" cy="196.6345" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="111" y="201.3044"> </text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="126" x="115" y="200.8465">type_y_sample_pool</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="241" y="201.3044">: These are samples of type y</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="103" y="215.2731"/><ellipse cx="104.5" cy="225.0033" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="111" y="229.6732"> </text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="115" y="229.2153">sample_size</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186" x="192" y="229.6732">: How many samples to collect</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="103" y="243.642"/><rect fill="none" height="245.4659" style="stroke:#000000;stroke-width:1.5;" width="500" x="11" y="292.5273"/><path d="M216,292.5273 L216,301.8241 L206,311.8241 L11,311.8241 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="71" x="14" y="306.5224">operator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="89" y="306.5224">OperatorFooBar</text><rect fill="#F1F1F1" height="34.4001" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="116.5" y="328.8241"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="130.5" y="350.3941"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="38" x="130.5" y="350.3941">LIMIT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="172.5" y="350.3941"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="126" x="172.5" y="349.9362">type_y_sample_pool</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="12" x="302.5" y="350.3941">to</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="318.5" y="349.9362">sample_size</text><rect fill="#F1F1F1" height="34.4001" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="142.5" y="383.2242"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="156.5" y="404.7943"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="27" x="156.5" y="404.7943">SET</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="187.5" y="404.7943"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="91" x="187.5" y="404.3363">field_a = 'a'</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="282.5" y="404.7943">on all samples</text><rect fill="#F1F1F1" height="34.4001" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="480" x="21" y="437.6243"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="71" y="459.1944"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="27" x="71" y="459.1944">SET</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="102" y="459.1944"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="357" x="102" y="458.7364">send_for_labeling = (sample IN some_other_label_db)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="0" x="467" y="459.1944"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="300" x="111" y="492.0244"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="44" x="121" y="513.1631">WRITE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="232" x="169" y="513.1631">result to type_y_samples_{date} table</text><ellipse cx="261" cy="568.9932" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="261" cy="568.9932" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="119.4688" y2="139.4688"/><polygon fill="#181818" points="257,129.4688,261,139.4688,265,129.4688,261,133.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="363.2242" y2="383.2242"/><polygon fill="#181818" points="257,373.2242,261,383.2242,265,373.2242,261,377.2242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="417.6243" y2="437.6243"/><polygon fill="#181818" points="257,427.6243,261,437.6243,265,427.6243,261,431.6243" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="472.0244" y2="492.0244"/><polygon fill="#181818" points="257,482.0244,261,492.0244,265,482.0244,261,486.0244" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="256.4721" y2="328.8241"/><polygon fill="#181818" points="257,318.8241,261,328.8241,265,318.8241,261,322.8241" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="269" y="277.7768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="269" y="290.5815"/><line style="stroke:#181818;stroke-width:1.0;" x1="261" x2="261" y1="525.9932" y2="557.9932"/><polygon fill="#181818" points="257,547.9932,261,557.9932,265,547.9932,261,551.9932" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[35a0b830a4633f84a3af186a547c1359]
@startuml
<style>
    activityDiagram {
        diamond {
            BackgroundColor LightBlue
        }

        .input {
            MaximumWidth 500
            BackgroundColor #E4D4EF
        }
    }
    * {
    }

    .true {
        FontColor White
        BackgroundColor Black
    }

</style>



' Tables
!global $TYPE_X_SAMPLE_POOL_TABLE = "type_x_sample_pool"
!global $TYPE_Y_SAMPLE_POOL_TABLE = "type_y_sample_pool"
!unquoted procedure $SAMPLE_POOL_TABLE_DESC()
A subquery from which to query samples, should be joined to any
columns that you want to include in the $DAILY_COLLECTED_SAMPLES_TABLE table
!endprocedure

!global $SAMPLE_LABELS_TABLE = "some_other_label_db"
!global $SAMPLE_LABELS_ID = "sampleLabelsDb"
!global $SAMPLE_LABELS_CONTAINER_DESC = $LABELED_DATASOURCE_DESC
!global $SAMPLE_LABELS_COMPONENT_DESC = "Stores all samples which have been labeled.\n"
!global $SAMPLE_LABELS_TYPE = "BigTable"
!global $SAMPLE_LABELS_SCHEMA = "https://docs.google.com/spreadsheets"

!global $DAILY_COLLECTED_SAMPLES_TABLE = "type_y_samples_{date}"
!global $DAILY_COLLECTED_SAMPLES_ID = "dailySamplesDb"
!global $DAILY_COLLECTED_SAMPLES_DESC = "A days worth of samples collected during single run of the pipeline.\n"
!global $DAILY_COLLECTED_SAMPLES_TYPE = "BigQueryDailyTable"

!global $LABELED_DATASOURCE_ID = "labeledDatasource"
!global $LABELED_DATASOURCE_NAME = "labeled_datasource_bucket"
!global $LABELED_DATASOURCE_TYPE = "GCS"
!global $LABELED_DATASOURCE_DESC = "Where the labelers write their labeling results"

'Columns
!global $SEND_FOR_LABELING_COLUMN = "send_for_labeling"
!global $CONTENT_ID_COLUMN = "some_id"

!global $SYSTEM_NAME = "My Project Name"



left header

\t<font size=22 color=black>Sampler B - Activity Diagram</font>

\t<font size=14 color=black>Description of goal                                            </font>


end header

start
#E4D4EF: <font size=14>Inputs</font>
- - - -

*<U+00A0>""$TYPE_Y_SAMPLE_POOL_TABLE"": These are samples of type y

*<U+00A0>""sample_size"": How many samples to collect
]
-> \n;

partition "**operator** OperatorFooBar " {
    : **LIMIT** ""$TYPE_Y_SAMPLE_POOL_TABLE"" to ""sample_size"";
    : **SET** ""field_a = 'a'"" on all samples;
    :\t  **SET** ""$SEND_FOR_LABELING_COLUMN = (sample IN $SAMPLE_LABELS_TABLE)""  \t;
    :**WRITE** result to $DAILY_COLLECTED_SAMPLES_TABLE table;
}

stop
@enduml

@startuml
<style>
    activityDiagram {
        diamond {
            BackgroundColor LightBlue
        }

        .input {
            MaximumWidth 500
            BackgroundColor #E4D4EF
        }
    }
    * {
    }

    .true {
        FontColor White
        BackgroundColor Black
    }

</style>











left header

\t<font size=22 color=black>Sampler B - Activity Diagram</font>

\t<font size=14 color=black>Description of goal                                            </font>


end header

start
#E4D4EF: <font size=14>Inputs</font>
- - - -

*<U+00A0>""type_y_sample_pool"": These are samples of type y

*<U+00A0>""sample_size"": How many samples to collect
]
-> \n;

partition "**operator** OperatorFooBar " {
    : **LIMIT** ""type_y_sample_pool"" to ""sample_size"";
    : **SET** ""field_a = 'a'"" on all samples;
    :\t  **SET** ""send_for_labeling = (sample IN some_other_label_db)""  \t;
    :**WRITE** result to type_y_samples_{date} table;
}

stop
@enduml

PlantUML version 1.2022.2beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>